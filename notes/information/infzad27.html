<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ó–∞–¥–∞–Ω–∏–µ 27 ‚Äî –ö–æ–Ω—Å–ø–µ–∫—Ç—ã –ê–ª–µ–∫—Å–µ—è</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../../style.css">
  <style>
    :root {
        --accent: #00ff88; 
        --bot-blue: #3b82f6;
        --code-bg: #0d1117;
    }

    .complexity-badge {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(255, 85, 85, 0.1);
      color: #ff5555;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .concept-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .concept-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 12px;
      position: relative;
    }

    .concept-card::after {
      content: '';
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.05);
      pointer-events: none;
    }

    .code-block {
      background: var(--code-bg);
      padding: 20px;
      border-radius: 10px;
      font-family: 'JetBrains Mono', monospace;
      border: 1px solid rgba(255, 255, 255, 0.05);
      line-height: 1.6;
      font-size: 14px;
    }

    .math-formula {
      font-family: 'Courier New', monospace;
      background: rgba(59, 130, 246, 0.1);
      padding: 2px 6px;
      color: var(--bot-blue);
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="wrap">

    <header>
      <div class="brand">
        <div class="logo">–û–ê</div>
        <div>
          <div style="font-weight:800;font-size:18px">–û–≤—Å–∏–µ–Ω–∫–æ –ê–ª–µ–∫—Å–µ–π</div>
          <div style="font-size:13px;color:var(--muted)">–ö–æ–Ω—Å–ø–µ–∫—Ç—ã: –°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã $O(N)$</div>
        </div>
      </div>
      <nav>
        <a href="../../index.html" class="nav-link">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
        <a href="../../notes.html" class="nav-link">–ö–æ–Ω—Å–ø–µ–∫—Ç—ã</a>
      </nav>
    </header>

    <section class="card">
      <div class="complexity-badge">–£–†–û–í–ï–ù–¨: HARD</div>
      <h1>–ó–∞–¥–∞–Ω–∏–µ 27: –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π</h1>
      <p>
        –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –Ω–∞–π—Ç–∏ –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –∏–ª–∏ –Ω–µ—Ç) —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π, –∫—Ä–∞—Ç–Ω–æ–π —á–∏—Å–ª—É $K$, —Ä–∞–±–æ—Ç–∞—è —Å —Ñ–∞–π–ª–∞–º–∏ –æ–±—ä–µ–º–æ–º –¥–æ –º–∏–ª–ª–∏–æ–Ω–∞ —Å—Ç—Ä–æ–∫.
      </p>

      <div class="concept-grid">
        <div class="concept-card">
          <h3 style="margin-top:0; color:var(--accent);">–°—Ç–∞—Ç–∏–∫–∞ (–§–∞–π–ª –ê)</h3>
          <p style="font-size:14px; color:var(--muted);">–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã $O(N^2)$. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤.</p>
        </div>
        <div class="concept-card">
          <h3 style="margin-top:0; color:var(--bot-blue);">–î–∏–Ω–∞–º–∏–∫–∞ (–§–∞–π–ª B)</h3>
          <p style="font-size:14px; color:var(--muted);">–û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∏—Å–ª–∞ "–Ω–∞ –ª–µ—Ç—É" –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ $O(N)$. –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Å—Ç–∞—Ç–∫–∏ –æ—Ç –¥–µ–ª–µ–Ω–∏—è.</p>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>–ú–µ—Ç–æ–¥ –ø—Ä–µ—Ñ–∏–∫—Å–Ω—ã—Ö —Å—É–º–º</h2>
      <p>–ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Å—É–º–º—É –Ω–∞ –æ—Ç—Ä–µ–∑–∫–µ $[i, j]$, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–æ—Ä–º—É–ª—É: <span class="math-formula">S[i..j] = Prefix[j] - Prefix[i-1]</span>.</p>
      
      

      <div class="code-block">
        f = <span style="color:#ff79c6">open</span>(<span style="color:#f1fa8c">'27_B.txt'</span>)<br>
        n = <span style="color:#ff79c6">int</span>(f.readline())<br>
        k = <span style="color:#bd93f9">43</span><br><br>
        
        <span style="color:#6272a4"># –•—Ä–∞–Ω–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é —Å—É–º–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Å—Ç–∞—Ç–∫–∞</span><br>
        mins = {<span style="color:#bd93f9">0</span>: <span style="color:#bd93f9">0</span>}<br>
        cur_sum = <span style="color:#bd93f9">0</span><br>
        max_sum = <span style="color:#bd93f9">0</span><br><br>
        
        <span style="color:#ff79c6">for</span> _ <span style="color:#ff79c6">in</span> <span style="color:#ff79c6">range</span>(n):<br>
        &nbsp;&nbsp;&nbsp;&nbsp;x = <span style="color:#ff79c6">int</span>(f.readline())<br>
        &nbsp;&nbsp;&nbsp;&nbsp;cur_sum += x<br>
        &nbsp;&nbsp;&nbsp;&nbsp;rem = cur_sum % k<br><br>
        &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff79c6">if</span> rem <span style="color:#ff79c6">in</span> mins:<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_sum = <span style="color:#ff79c6">max</span>(max_sum, cur_sum - mins[rem])<br>
        &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff79c6">else</span>:<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mins[rem] = cur_sum<br><br>
        <span style="color:#ff79c6">print</span>(max_sum)
      </div>
    </section>

    <section class="card">
      <h2>–ì–ª–∞–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ $O(N)$</h2>
      <ul style="line-height: 1.8; color: var(--muted); font-size: 14px;">
        <li><b style="color:#fff;">–û—Å—Ç–∞—Ç–∫–∏:</b> –ï—Å–ª–∏ –∏—â–µ–º —Å—É–º–º—É, –∫—Ä–∞—Ç–Ω—É—é $K$, –∫–ª—é—á–æ–º –≤ —Å–ª–æ–≤–∞—Ä–µ/—Å–ø–∏—Å–∫–µ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç <span class="math-formula">sum % K</span>.</li>
        <li><b style="color:#fff;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä:</b> –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—á–µ—Ç—á–∏–∫ –æ—Å—Ç–∞—Ç–∫–æ–≤ <code>counts = [0] * K</code>.</li>
        <li><b style="color:#fff;">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ:</b> –ï—Å–ª–∏ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ $D$, –∏—Å–ø–æ–ª—å–∑—É–π <b>–æ—á–µ—Ä–µ–¥—å (buffer)</b>.</li>
      </ul>
    </section>

    <section class="card" style="border-top: 4px solid var(--accent)">
      <h2>üí° –°—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ</h2>
      <p style="font-size:14px; line-height:1.7;">
        1. –°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø–∏—à–∏ –ø–µ—Ä–µ–±–æ—Ä (—Ñ–∞–π–ª –ê) ‚Äî —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π 1 –±–∞–ª–ª.<br>
        2. –ü–æ–π–º–∏, –∫–∞–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —É –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤, —á—Ç–æ–±—ã –∏—Ö —Ä–∞–∑–Ω–æ—Å—Ç—å –¥–∞–ª–∞ –Ω—É–∂–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –æ—Å—Ç–∞—Ç–æ–∫).<br>
        3. –ù–∞–ø–∏—à–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –∏ –ø—Ä–æ–≤–µ—Ä—å –µ–≥–æ –Ω–∞ —Ñ–∞–π–ª–µ –ê. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç—ã —Å–æ–≤–ø–∞–ª–∏ ‚Äî –∑–∞–ø—É—Å–∫–∞–π –Ω–∞ —Ñ–∞–π–ª–µ B.
      </p>
    </section>

    <footer>
      <p style="text-align:center; color:var(--muted); font-size:12px;">
        ¬© 2025 –û–≤—Å–∏–µ–Ω–∫–æ –ê–ª–µ–∫—Å–µ–π ¬∑ Notes: Tesseract Engine
      </p>
    </footer>

  </div>
</body>
</html>
